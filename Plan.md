# Перечень автоматизируемых сценариев

### Тестирование формы оплаты тура по карте

### Предусловия
* На главной странице нажать кнопку "Купить"
* Валидный номер активированной карты 4444 4444 4444 4441
* Валидный номер заблокированной карты 4444 4444 4444 4442

### Позитивные сценарии

### 1. Успешная оплата тура по активной карте
1. В поле "Номер карты" ввести валидное значение активной карты (см. предусловия)
2. В поле "Месяц" ввести текущую дату
3. В поле "Год" ввести значение следующего года
4. В поле "Владелец" ввести валидное значение (латиницей имя и фамилию)
5. В поле "CVC/CVV" ввести валидное значение из трех цифр
6. Нажать кнопку "Продолжить"

**Ожидаемый результат:** Всплывающее окно с сообщением "Успешно! Операция одобрена банком."
В БД есть запись APPROVED

### 2. Отклонение оплаты тура по заблокированной карте
1. В поле "Номер карты" ввести валидное значение заблокированной карты (см. предусловия)
2. В поле "Месяц" ввести текущую дату
3. В поле "Год" ввести значение следующего года
4. В поле "Владелец" ввести валидное значение (латиницей имя и фамилию)
5. В поле "CVC/CVV" ввести валидное значение из трех цифр
6. Нажать кнопку "Продолжить"

**Ожидаемый результат:** Всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции."
В БД есть запись DECLINED

## Поле «Номер карты»

### Позитивные сценарии

1. (Граничное значение - 16 символов) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить валидными значениями поля: месяц, год, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма отправлена. Появляется сообщение об успешной оплате. Запись в БД создается.

### Негативные сценарии

1. (Граничное значение - 15 символов) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты (Заполняются только 15 символов из 16). Заполнить валидными значениями поля: месяц, год, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создается.
2. (Граничное значение - 1 числовой символ) Открыть страницу покупки тура. Нажать на кнопку «Купить». В поле «Номер карты» вводится любое числовое значение от 0 до 9 . Заполнить валидными значениями поля: месяц, год, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создается.
3. (Граничное значение - пустое поле) Открыть страницу покупки тура. Нажать на кнопку «Купить». Поле «Номер карты» не заполняется. Заполнить валидными значениями поля: месяц, год, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.
4. (Граничное значение - все символы - нули) Открыть страницу покупки тура. Нажать на кнопку «Купить». Все поле «Номер карты» заполняется нулями. Заполнить валидными значениями поля: месяц, год, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.

**(Невалидное значение для поля «Номер карты» - 16 числовых символов)**

## Поле «Месяц»

### Позитивные сценарии

1. (Граничное значение - 01) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить поле «месяц» значением 01. Заполнить валидными значениями поля: год, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма отправлена. Появляется сообщение об успешной оплате. Запись в БД создаётся.
2. (Граничное значение - 02) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить поле «месяц» значением 02. Заполнить валидными значениями поля: год, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма отправлена. Появляется сообщение об успешной оплате. Запись в БД создаётся.
3. (Граничное значение - 11) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить поле «месяц» значением 11. Заполнить валидными значениями поля: год, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма отправлена. Появляется сообщение об успешной оплате. Запись в БД создаётся.
4. (Граничное значение - 12) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить поле «месяц» значением 12. Заполнить валидными значениями поля: год, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма отправлена. Появляется сообщение об успешной оплате. Запись в БД создаётся.

### Негативные сценарии

1. (Граничное значение - пустое поле) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Поле «Месяц» не заполняется. Заполнить валидными значениями поля: год, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.
2. (Граничное значение - 00) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Поле «Месяц» заполняется значением - 00. Заполнить валидными значениями поля: год, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.
3. (Граничное значение - 13) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Поле «Месяц» заполняется значением - 13. Заполнить валидными значениями поля: год, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.
4. (Граничное значение - 1 числовой символ) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Поле «Месяц» заполняется любым числовым значением от 0 до 9. Заполнить валидными значениями поля: год, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.

**(Невалидное значение для поля «Месяц» - двухзначное число (от 01 до 12))**

## Поле «Год»

### Позитивные сценарии

1. (Граничное значение - последние две цифры текущего года) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить поле «Год» двумя последними цифрами текущего года. Заполнить валидными значениями поля: месяц, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма отправлена. Появляется сообщение об успешной оплате. Запись в БД создаётся.
2. (Граничное значение - последние две цифры следующего года, относительного текущего) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить поле «Год» последними двумя цифрами следующего года, относительного текущего. Заполнить валидными значениями поля: месяц, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма отправлена. Появляется сообщение об успешной оплате. Запись в БД создаётся.
3. (Граничное значение - последние две цифры текущего года + 2) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить поле «Год» последними двумя цифрами текущего года + 2. Заполнить валидными значениями поля: месяц, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма отправлена. Появляется сообщение об успешной оплате. Запись в БД создаётся.
4. (Граничное значение - последние две цифры текущего года + 7) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить поле «Год» последними двумя цифрами текущего года + 7. Заполнить валидными значениями поля: месяц, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма отправлена. Появляется сообщение об успешной оплате. Запись в БД создаётся.
5. (Граничное значение - последние две цифры текущего года + 8) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить поле «Год» последними двумя цифрами текущего года + 8. Заполнить валидными значениями поля: месяц, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма отправлена. Появляется сообщение об успешной оплате. Запись в БД создаётся.

### Негативные сценарии

1. (Граничное значение - пустое поле) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Поле «Год» не заполняется. Заполнить валидными значениями поля: месяц, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.
2. (Граничное значение - 1 символ) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Поле «Год» заполняется любым числовым значением от 0 до 9. Заполнить валидными значениями поля: месяц, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.
3. (Граничное значение - последние две цифры текущего года - 1) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Поле «Год» заполняется последними двумя числами текущего года - 1. Заполнить валидными значениями поля: месяц, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.
4. Граничное значение - последние две цифры текущего года + 9) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Поле «Год» заполняется последними двумя числами текущего года + 9. Заполнить валидными значениями поля: месяц, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.
5. (Граничное значение - 0000) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Ввести 0000 в поле «Год». Заполнить валидными значениями поля: месяц, владелец, CVC/CVV. Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.

**(Невалидное значение для поля «Год» - двухзначное число (последние 2 цифры текущего года + от 1 до 8(включительно))**

## Поле «Владелец»

### Позитивные сценарии

1. (Граничное значение - 3 буквенных символа) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить поле «Владелец» 3-мя валидными буквенными символами. Заполнить валидными значениями поля: месяц, год, CVC/CVV. Нажать на кнопку «Продолжить». Форма отправлена. Появляется сообщение об успешной оплате. Запись в БД создаётся.
2. (Граничное значение - 4 буквенных символа) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить поле «Владелец» 4-мя валидными буквенными символами. Заполнить валидными значениями поля: месяц, год, CVC/CVV. Нажать на кнопку «Продолжить». Форма отправлена. Появляется сообщение об успешной оплате. Запись в БД создаётся.
3. (Граничное значение - поле имя с пробелом) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить поле «Владелец» валидным именем с наличием пробела. Заполнить валидными значениями поля: месяц, год, CVC/CVV. Нажать на кнопку «Продолжить». Форма отправлена. Появляется сообщение об успешной оплате. Запись в БД создаётся.
4. (Граничное значение - поле имя с дефисом) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить поле «Владелец» валидным именем с наличием дефиса. Заполнить валидными значениями поля: месяц, год, CVC/CVV. Нажать на кнопку «Продолжить». Форма отправлена. Появляется сообщение об успешной оплате. Запись в БД создаётся.
5. (Граничное значение - 19 буквенных символов) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить поле «Владелец»  валидными буквенными символами (19 символов). Заполнить валидными значениями поля: месяц, год, CVC/CVV. Нажать на кнопку «Продолжить». Форма отправлена. Появляется сообщение об успешной оплате. Запись в БД создаётся.
6. (Граничное значение - 20 буквенных символа) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить поле «Владелец»  валидными буквенными символами (20 символов). Заполнить валидными значениями поля: месяц, год, CVC/CVV. Нажать на кнопку «Продолжить». Форма отправлена. Появляется сообщение об успешной оплате. Запись в БД создаётся.

### Негативные сценарии

1. (Граничное значение - 2 буквенных символа) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить поле «Владелец»  валидными буквенными символами (2 символа). Заполнить валидными значениями поля: месяц, год, CVC/CVV. Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.
2. (Граничное значение - пустое поле) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Поле «Владелец» не заполняется. Заполнить валидными значениями поля: месяц, год, CVC/CVV. Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.
3. (Эквивалентное значение - цифры) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить поле «Владелец» цифровыми значениями в допустимом диапазоне). Заполнить валидными значениями поля: месяц, год, CVC/CVV. Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.
4. (Эквивалентное значение - спецсимволы) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить поле «Владелец» спецсимволами в допустимом диапазоне). Заполнить валидными значениями поля: месяц, год, CVC/CVV. Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.
5. (Эквивалентное значение - пробелы) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить поле «Владелец» пробелами в допустимом диапазоне). Заполнить валидными значениями поля: месяц, год, CVC/CVV. Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.
6. (Эквивалентное значение - кириллица) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить поле «Владелец» кириллицей в допустимом диапазоне). Заполнить валидными значениями поля: месяц, год, CVC/CVV. Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.
7. (Граничное значение - 21 буквенный символ) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить поле «Владелец»  валидными буквенными символами (21 символ). Заполнить валидными значениями поля: месяц, год, CVC/CVV. Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.

**(Невалидное значение для поля «Владелец» - латинские буквы с использованием пробелов, дефисов, заглавных букв в количестве от 3 до 20 символов (включительно))**

## Поле «CVC/CVV»

### Позитивные сценарии

1. (Граничное значение - 3 символа) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить валидными значениями поля: владелец, месяц, год. Поле «CVC/CVV» заполнить 3-мя валидными символами.  Нажать на кнопку «Продолжить». Форма отправлена. Появляется сообщение об успешной оплате. Запись в БД создаётся.

### Негативные сценарии

1. (Граничное значение - 1 символ) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить валидными значениями поля: владелец, месяц, год. Поле «CVC/CVV» заполнить 1 символом.  Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.
2. (Граничное значение - 2 символа) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить валидными значениями поля: владелец, месяц, год. Поле «CVC/CVV» заполнить 2-мя символами.  Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.
3. (Граничное значение - пустое поле) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить валидными значениями поля: владелец, месяц, год. Поле «CVC/CVV» не заполняется.  Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.
4. (Граничное значение - 000) Открыть страницу покупки тура. Нажать на кнопку «Купить». Заполнить валидным значением поле номер карты. Заполнить валидными значениями поля: владелец, месяц, год. Ввести 000 в поле «CVC/CVV».  Нажать на кнопку «Продолжить». Форма не отправлена. Появляется сообщение о неправильном заполнении поля. Запись в БД не создаётся.

**(Невалидное значение для поля «CVC/CVV» - трехзначное число)**


* Для тестирования пункта «Купить в кредит» следует повторить все тест-кейсы, приведенные выше.

# Перечень необходимых инструментов

1. IntelliJ IDEA - Среда для автотестов
2. Gradle - Система сборки кода
3. JUnit 5 - Тестовая среда
4. Selenide - Фреймворк для UI тестирования
5. REST Assured - Фреймворк для API тестирования
6. Docker - создание контейнера тестируемый БД
7. Allure Система репортинга
8. SQL Система для написания запросов к БД
9. Faker - Генерация данных
10. Github - инструмент контроля версий, а также хранения кода

# Перечень и описание возможных рисков при автоматизации
1. Нечёткое ТЗ из-за которого могут быть дополнительные правки.
2. Необходимость проверки  работы приложения с двумя базами данных mysql и postgresql.
3. Большое количество тестов, необходимость их постоянной поддержки
4. Изменения некоторых элементов на странице, структуры и организации.
5. Возможные проблемы совместимости плагинов в IntelliJ IDEA между собой.
6. Автоматические тесты не проверяют вёрстку, поэтому если тесты будут успешно пройдены, то это не гарантирует правильность отображения.


# Интервальная оценка с учётом рисков в часах
Создание и настройка рабочего пространства, запуск SUT, подключение докера, СУБД - 8 часов  
Написание плана работ - 7 часов  
Написание автотестов -  80 часов  
Подготовка отчетных документов по итогам автоматизированного тестирования - 20 часов  
Исправление замечаний по итогам обратной связи - 25 часов  
Подготовка отчетных документов по итогам автоматизации - 6 часа  


